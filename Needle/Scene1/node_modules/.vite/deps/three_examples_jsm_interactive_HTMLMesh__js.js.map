{
  "version": 3,
  "sources": ["../../@needle-tools/engine/node_modules/three/examples/jsm/interactive/HTMLMesh.js"],
  "sourcesContent": ["import {\r\n\tCanvasTexture,\r\n\tLinearFilter,\r\n\tMesh,\r\n\tMeshBasicMaterial,\r\n\tPlaneGeometry,\r\n\tSRGBColorSpace,\r\n\tColor\r\n} from 'three';\r\n\r\nclass HTMLMesh extends Mesh {\r\n\r\n\tconstructor( dom ) {\r\n\r\n\t\tconst texture = new HTMLTexture( dom );\r\n\r\n\t\tconst geometry = new PlaneGeometry( texture.image.width * 0.001, texture.image.height * 0.001 );\r\n\t\tconst material = new MeshBasicMaterial( { map: texture, toneMapped: false, transparent: true } );\r\n\r\n\t\tsuper( geometry, material );\r\n\r\n\t\tfunction onEvent( event ) {\r\n\r\n\t\t\tmaterial.map.dispatchDOMEvent( event );\r\n\r\n\t\t}\r\n\r\n\t\tthis.addEventListener( 'mousedown', onEvent );\r\n\t\tthis.addEventListener( 'mousemove', onEvent );\r\n\t\tthis.addEventListener( 'mouseup', onEvent );\r\n\t\tthis.addEventListener( 'click', onEvent );\r\n\r\n\t\tthis.dispose = function () {\r\n\r\n\t\t\tgeometry.dispose();\r\n\t\t\tmaterial.dispose();\r\n\r\n\t\t\tmaterial.map.dispose();\r\n\r\n\t\t\tcanvases.delete( dom );\r\n\r\n\t\t\tthis.removeEventListener( 'mousedown', onEvent );\r\n\t\t\tthis.removeEventListener( 'mousemove', onEvent );\r\n\t\t\tthis.removeEventListener( 'mouseup', onEvent );\r\n\t\t\tthis.removeEventListener( 'click', onEvent );\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass HTMLTexture extends CanvasTexture {\r\n\r\n\tconstructor( dom ) {\r\n\r\n\t\tsuper( html2canvas( dom ) );\r\n\r\n\t\tthis.dom = dom;\r\n\r\n\t\tthis.anisotropy = 16;\r\n\t\tthis.colorSpace = SRGBColorSpace;\r\n\t\tthis.minFilter = LinearFilter;\r\n\t\tthis.magFilter = LinearFilter;\r\n\r\n\t\t// Create an observer on the DOM, and run html2canvas update in the next loop\r\n\t\tconst observer = new MutationObserver( () => {\r\n\r\n\t\t\tif ( ! this.scheduleUpdate ) {\r\n\r\n\t\t\t\t// ideally should use xr.requestAnimationFrame, here setTimeout to avoid passing the renderer\r\n\t\t\t\tthis.scheduleUpdate = setTimeout( () => this.update(), 16 );\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\r\n\t\tconst config = { attributes: true, childList: true, subtree: true, characterData: true };\r\n\t\tobserver.observe( dom, config );\r\n\r\n\t\tthis.observer = observer;\r\n\r\n\t}\r\n\r\n\tdispatchDOMEvent( event ) {\r\n\r\n\t\tif ( event.data ) {\r\n\r\n\t\t\thtmlevent( this.dom, event.type, event.data.x, event.data.y );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate() {\r\n\r\n\t\tthis.image = html2canvas( this.dom );\r\n\t\tthis.needsUpdate = true;\r\n\r\n\t\tthis.scheduleUpdate = null;\r\n\r\n\t}\r\n\r\n\tdispose() {\r\n\r\n\t\tif ( this.observer ) {\r\n\r\n\t\t\tthis.observer.disconnect();\r\n\r\n\t\t}\r\n\r\n\t\tthis.scheduleUpdate = clearTimeout( this.scheduleUpdate );\r\n\r\n\t\tsuper.dispose();\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\n//\r\n\r\nconst canvases = new WeakMap();\r\n\r\nfunction html2canvas( element ) {\r\n\r\n\tconst range = document.createRange();\r\n\tconst color = new Color();\r\n\r\n\tfunction Clipper( context ) {\r\n\r\n\t\tconst clips = [];\r\n\t\tlet isClipping = false;\r\n\r\n\t\tfunction doClip() {\r\n\r\n\t\t\tif ( isClipping ) {\r\n\r\n\t\t\t\tisClipping = false;\r\n\t\t\t\tcontext.restore();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( clips.length === 0 ) return;\r\n\r\n\t\t\tlet minX = - Infinity, minY = - Infinity;\r\n\t\t\tlet maxX = Infinity, maxY = Infinity;\r\n\r\n\t\t\tfor ( let i = 0; i < clips.length; i ++ ) {\r\n\r\n\t\t\t\tconst clip = clips[ i ];\r\n\r\n\t\t\t\tminX = Math.max( minX, clip.x );\r\n\t\t\t\tminY = Math.max( minY, clip.y );\r\n\t\t\t\tmaxX = Math.min( maxX, clip.x + clip.width );\r\n\t\t\t\tmaxY = Math.min( maxY, clip.y + clip.height );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcontext.save();\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.rect( minX, minY, maxX - minX, maxY - minY );\r\n\t\t\tcontext.clip();\r\n\r\n\t\t\tisClipping = true;\r\n\r\n\t\t}\r\n\r\n\t\treturn {\r\n\r\n\t\t\tadd: function ( clip ) {\r\n\r\n\t\t\t\tclips.push( clip );\r\n\t\t\t\tdoClip();\r\n\r\n\t\t\t},\r\n\r\n\t\t\tremove: function () {\r\n\r\n\t\t\t\tclips.pop();\r\n\t\t\t\tdoClip();\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tfunction drawText( style, x, y, string ) {\r\n\r\n\t\tif ( string !== '' ) {\r\n\r\n\t\t\tif ( style.textTransform === 'uppercase' ) {\r\n\r\n\t\t\t\tstring = string.toUpperCase();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcontext.font = style.fontWeight + ' ' + style.fontSize + ' ' + style.fontFamily;\r\n\t\t\tcontext.textBaseline = 'top';\r\n\t\t\tcontext.fillStyle = style.color;\r\n\t\t\tcontext.fillText( string, x, y + parseFloat( style.fontSize ) * 0.1 );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction buildRectPath( x, y, w, h, r ) {\r\n\r\n\t\tif ( w < 2 * r ) r = w / 2;\r\n\t\tif ( h < 2 * r ) r = h / 2;\r\n\r\n\t\tcontext.beginPath();\r\n\t\tcontext.moveTo( x + r, y );\r\n\t\tcontext.arcTo( x + w, y, x + w, y + h, r );\r\n\t\tcontext.arcTo( x + w, y + h, x, y + h, r );\r\n\t\tcontext.arcTo( x, y + h, x, y, r );\r\n\t\tcontext.arcTo( x, y, x + w, y, r );\r\n\t\tcontext.closePath();\r\n\r\n\t}\r\n\r\n\tfunction drawBorder( style, which, x, y, width, height ) {\r\n\r\n\t\tconst borderWidth = style[ which + 'Width' ];\r\n\t\tconst borderStyle = style[ which + 'Style' ];\r\n\t\tconst borderColor = style[ which + 'Color' ];\r\n\r\n\t\tif ( borderWidth !== '0px' && borderStyle !== 'none' && borderColor !== 'transparent' && borderColor !== 'rgba(0, 0, 0, 0)' ) {\r\n\r\n\t\t\tcontext.strokeStyle = borderColor;\r\n\t\t\tcontext.lineWidth = parseFloat( borderWidth );\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.moveTo( x, y );\r\n\t\t\tcontext.lineTo( x + width, y + height );\r\n\t\t\tcontext.stroke();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction drawElement( element, style ) {\r\n\r\n\t\t// Do not render invisible elements, comments and scripts.\r\n\t\tif ( element.nodeType === Node.COMMENT_NODE || element.nodeName === 'SCRIPT' || ( element.style && element.style.display === 'none' ) ) {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tlet x = 0, y = 0, width = 0, height = 0;\r\n\r\n\t\tif ( element.nodeType === Node.TEXT_NODE ) {\r\n\r\n\t\t\t// text\r\n\r\n\t\t\trange.selectNode( element );\r\n\r\n\t\t\tconst rect = range.getBoundingClientRect();\r\n\r\n\t\t\tx = rect.left - offset.left - 0.5;\r\n\t\t\ty = rect.top - offset.top - 0.5;\r\n\t\t\twidth = rect.width;\r\n\t\t\theight = rect.height;\r\n\r\n\t\t\tdrawText( style, x, y, element.nodeValue.trim() );\r\n\r\n\t\t} else if ( element instanceof HTMLCanvasElement ) {\r\n\r\n\t\t\t// Canvas element\r\n\r\n\t\t\tconst rect = element.getBoundingClientRect();\r\n\r\n\t\t\tx = rect.left - offset.left - 0.5;\r\n\t\t\ty = rect.top - offset.top - 0.5;\r\n\r\n\t\t        context.save();\r\n\t\t\tconst dpr = window.devicePixelRatio;\r\n\t\t\tcontext.scale( 1 / dpr, 1 / dpr );\r\n\t\t\tcontext.drawImage( element, x, y );\r\n\t\t\tcontext.restore();\r\n\r\n\t\t} else if ( element instanceof HTMLImageElement ) {\r\n\r\n\t\t\tconst rect = element.getBoundingClientRect();\r\n\r\n\t\t\tx = rect.left - offset.left - 0.5;\r\n\t\t\ty = rect.top - offset.top - 0.5;\r\n\t\t\twidth = rect.width;\r\n\t\t\theight = rect.height;\r\n\r\n\t\t\tcontext.drawImage( element, x, y, width, height );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconst rect = element.getBoundingClientRect();\r\n\r\n\t\t\tx = rect.left - offset.left - 0.5;\r\n\t\t\ty = rect.top - offset.top - 0.5;\r\n\t\t\twidth = rect.width;\r\n\t\t\theight = rect.height;\r\n\r\n\t\t\tstyle = window.getComputedStyle( element );\r\n\r\n\t\t\t// Get the border of the element used for fill and border\r\n\r\n\t\t\tbuildRectPath( x, y, width, height, parseFloat( style.borderRadius ) );\r\n\r\n\t\t\tconst backgroundColor = style.backgroundColor;\r\n\r\n\t\t\tif ( backgroundColor !== 'transparent' && backgroundColor !== 'rgba(0, 0, 0, 0)' ) {\r\n\r\n\t\t\t\tcontext.fillStyle = backgroundColor;\r\n\t\t\t\tcontext.fill();\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// If all the borders match then stroke the round rectangle\r\n\r\n\t\t\tconst borders = [ 'borderTop', 'borderLeft', 'borderBottom', 'borderRight' ];\r\n\r\n\t\t\tlet match = true;\r\n\t\t\tlet prevBorder = null;\r\n\r\n\t\t\tfor ( const border of borders ) {\r\n\r\n\t\t\t\tif ( prevBorder !== null ) {\r\n\r\n\t\t\t\t\tmatch = ( style[ border + 'Width' ] === style[ prevBorder + 'Width' ] ) &&\r\n\t\t\t\t\t( style[ border + 'Color' ] === style[ prevBorder + 'Color' ] ) &&\r\n\t\t\t\t\t( style[ border + 'Style' ] === style[ prevBorder + 'Style' ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( match === false ) break;\r\n\r\n\t\t\t\tprevBorder = border;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( match === true ) {\r\n\r\n\t\t\t\t// They all match so stroke the rectangle from before allows for border-radius\r\n\r\n\t\t\t\tconst width = parseFloat( style.borderTopWidth );\r\n\r\n\t\t\t\tif ( style.borderTopWidth !== '0px' && style.borderTopStyle !== 'none' && style.borderTopColor !== 'transparent' && style.borderTopColor !== 'rgba(0, 0, 0, 0)' ) {\r\n\r\n\t\t\t\t\tcontext.strokeStyle = style.borderTopColor;\r\n\t\t\t\t\tcontext.lineWidth = width;\r\n\t\t\t\t\tcontext.stroke();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Otherwise draw individual borders\r\n\r\n\t\t\t\tdrawBorder( style, 'borderTop', x, y, width, 0 );\r\n\t\t\t\tdrawBorder( style, 'borderLeft', x, y, 0, height );\r\n\t\t\t\tdrawBorder( style, 'borderBottom', x, y + height, width, 0 );\r\n\t\t\t\tdrawBorder( style, 'borderRight', x + width, y, 0, height );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( element instanceof HTMLInputElement ) {\r\n\r\n\t\t\t\tlet accentColor = style.accentColor;\r\n\r\n\t\t\t\tif ( accentColor === undefined || accentColor === 'auto' ) accentColor = style.color;\r\n\r\n\t\t\t\tcolor.set( accentColor );\r\n\r\n\t\t\t\tconst luminance = Math.sqrt( 0.299 * ( color.r ** 2 ) + 0.587 * ( color.g ** 2 ) + 0.114 * ( color.b ** 2 ) );\r\n\t\t\t\tconst accentTextColor = luminance < 0.5 ? 'white' : '#111111';\r\n\r\n\t\t\t\tif ( element.type === 'radio' ) {\r\n\r\n\t\t\t\t\tbuildRectPath( x, y, width, height, height );\r\n\r\n\t\t\t\t\tcontext.fillStyle = 'white';\r\n\t\t\t\t\tcontext.strokeStyle = accentColor;\r\n\t\t\t\t\tcontext.lineWidth = 1;\r\n\t\t\t\t\tcontext.fill();\r\n\t\t\t\t\tcontext.stroke();\r\n\r\n\t\t\t\t\tif ( element.checked ) {\r\n\r\n\t\t\t\t\t\tbuildRectPath( x + 2, y + 2, width - 4, height - 4, height );\r\n\r\n\t\t\t\t\t\tcontext.fillStyle = accentColor;\r\n\t\t\t\t\t\tcontext.strokeStyle = accentTextColor;\r\n\t\t\t\t\t\tcontext.lineWidth = 2;\r\n\t\t\t\t\t\tcontext.fill();\r\n\t\t\t\t\t\tcontext.stroke();\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( element.type === 'checkbox' ) {\r\n\r\n\t\t\t\t\tbuildRectPath( x, y, width, height, 2 );\r\n\r\n\t\t\t\t\tcontext.fillStyle = element.checked ? accentColor : 'white';\r\n\t\t\t\t\tcontext.strokeStyle = element.checked ? accentTextColor : accentColor;\r\n\t\t\t\t\tcontext.lineWidth = 1;\r\n\t\t\t\t\tcontext.stroke();\r\n\t\t\t\t\tcontext.fill();\r\n\r\n\t\t\t\t\tif ( element.checked ) {\r\n\r\n\t\t\t\t\t\tconst currentTextAlign = context.textAlign;\r\n\r\n\t\t\t\t\t\tcontext.textAlign = 'center';\r\n\r\n\t\t\t\t\t\tconst properties = {\r\n\t\t\t\t\t\t\tcolor: accentTextColor,\r\n\t\t\t\t\t\t\tfontFamily: style.fontFamily,\r\n\t\t\t\t\t\t\tfontSize: height + 'px',\r\n\t\t\t\t\t\t\tfontWeight: 'bold'\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tdrawText( properties, x + ( width / 2 ), y, '✔' );\r\n\r\n\t\t\t\t\t\tcontext.textAlign = currentTextAlign;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( element.type === 'range' ) {\r\n\r\n\t\t\t\t\tconst [ min, max, value ] = [ 'min', 'max', 'value' ].map( property => parseFloat( element[ property ] ) );\r\n\t\t\t\t\tconst position = ( ( value - min ) / ( max - min ) ) * ( width - height );\r\n\r\n\t\t\t\t\tbuildRectPath( x, y + ( height / 4 ), width, height / 2, height / 4 );\r\n\t\t\t\t\tcontext.fillStyle = accentTextColor;\r\n\t\t\t\t\tcontext.strokeStyle = accentColor;\r\n\t\t\t\t\tcontext.lineWidth = 1;\r\n\t\t\t\t\tcontext.fill();\r\n\t\t\t\t\tcontext.stroke();\r\n\r\n\t\t\t\t\tbuildRectPath( x, y + ( height / 4 ), position + ( height / 2 ), height / 2, height / 4 );\r\n\t\t\t\t\tcontext.fillStyle = accentColor;\r\n\t\t\t\t\tcontext.fill();\r\n\r\n\t\t\t\t\tbuildRectPath( x + position, y, height, height, height / 2 );\r\n\t\t\t\t\tcontext.fillStyle = accentColor;\r\n\t\t\t\t\tcontext.fill();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( element.type === 'color' || element.type === 'text' || element.type === 'number' ) {\r\n\r\n\t\t\t\t\tclipper.add( { x: x, y: y, width: width, height: height } );\r\n\r\n\t\t\t\t\tdrawText( style, x + parseInt( style.paddingLeft ), y + parseInt( style.paddingTop ), element.value );\r\n\r\n\t\t\t\t\tclipper.remove();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t// debug\r\n\t\tcontext.strokeStyle = '#' + Math.random().toString( 16 ).slice( - 3 );\r\n\t\tcontext.strokeRect( x - 0.5, y - 0.5, width + 1, height + 1 );\r\n\t\t*/\r\n\r\n\t\tconst isClipping = style.overflow === 'auto' || style.overflow === 'hidden';\r\n\r\n\t\tif ( isClipping ) clipper.add( { x: x, y: y, width: width, height: height } );\r\n\r\n\t\tfor ( let i = 0; i < element.childNodes.length; i ++ ) {\r\n\r\n\t\t\tdrawElement( element.childNodes[ i ], style );\r\n\r\n\t\t}\r\n\r\n\t\tif ( isClipping ) clipper.remove();\r\n\r\n\t}\r\n\r\n\tconst offset = element.getBoundingClientRect();\r\n\r\n\tlet canvas = canvases.get( element );\r\n\r\n\tif ( canvas === undefined ) {\r\n\r\n\t\tcanvas = document.createElement( 'canvas' );\r\n\t\tcanvas.width = offset.width;\r\n\t\tcanvas.height = offset.height;\r\n\t\tcanvases.set( element, canvas );\r\n\r\n\t}\r\n\r\n\tconst context = canvas.getContext( '2d'/*, { alpha: false }*/ );\r\n\r\n\tconst clipper = new Clipper( context );\r\n\r\n\t// console.time( 'drawElement' );\r\n\r\n\tcontext.clearRect( 0, 0, canvas.width, canvas.height );\r\n\r\n\tdrawElement( element );\r\n\r\n\t// console.timeEnd( 'drawElement' );\r\n\r\n\treturn canvas;\r\n\r\n}\r\n\r\nfunction htmlevent( element, event, x, y ) {\r\n\r\n\tconst mouseEventInit = {\r\n\t\tclientX: ( x * element.offsetWidth ) + element.offsetLeft,\r\n\t\tclientY: ( y * element.offsetHeight ) + element.offsetTop,\r\n\t\tview: element.ownerDocument.defaultView\r\n\t};\r\n\r\n\twindow.dispatchEvent( new MouseEvent( event, mouseEventInit ) );\r\n\r\n\tconst rect = element.getBoundingClientRect();\r\n\r\n\tx = x * rect.width + rect.left;\r\n\ty = y * rect.height + rect.top;\r\n\r\n\tfunction traverse( element ) {\r\n\r\n\t\tif ( element.nodeType !== Node.TEXT_NODE && element.nodeType !== Node.COMMENT_NODE ) {\r\n\r\n\t\t\tconst rect = element.getBoundingClientRect();\r\n\r\n\t\t\tif ( x > rect.left && x < rect.right && y > rect.top && y < rect.bottom ) {\r\n\r\n\t\t\t\telement.dispatchEvent( new MouseEvent( event, mouseEventInit ) );\r\n\r\n\t\t\t\tif ( element instanceof HTMLInputElement && element.type === 'range' && ( event === 'mousedown' || event === 'click' ) ) {\r\n\r\n\t\t\t\t\tconst [ min, max ] = [ 'min', 'max' ].map( property => parseFloat( element[ property ] ) );\r\n\r\n\t\t\t\t\tconst width = rect.width;\r\n\t\t\t\t\tconst offsetX = x - rect.x;\r\n\t\t\t\t\tconst proportion = offsetX / width;\r\n\t\t\t\t\telement.value = min + ( max - min ) * proportion;\r\n\t\t\t\t\telement.dispatchEvent( new InputEvent( 'input', { bubbles: true } ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( let i = 0; i < element.childNodes.length; i ++ ) {\r\n\r\n\t\t\t\ttraverse( element.childNodes[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\ttraverse( element );\r\n\r\n}\r\n\r\nexport { HTMLMesh };\r\n"],
  "mappings": "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",
  "names": ["context", "element", "width", "rect"]
}
